<!doctype html>
<html lang="mn">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>–ú–æ–Ω–≥–æ–ª –í–∏–∫–∏–ø–µ–¥–∏–∞ –•–∞–π–ª—Ç—ã–Ω –°–∏—Å—Ç–µ–º</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
</head>
<body>

<div class="container" role="main">
    <header class="header">
        <h1>–ú–æ–Ω–≥–æ–ª –í–∏–∫–∏–ø–µ–¥–∏–∞ –•–∞–π–ª—Ç—ã–Ω –°–∏—Å—Ç–µ–º</h1>
        <p class="lead">–ú–æ–Ω–≥–æ–ª –í–∏–∫–∏–ø–µ–¥–∏–∞ –¥–∞—Ö—å ”©–≥”©–≥–¥–ª”©”©—Å —Ö—è–ª–±–∞—Ä —Ö–∞–π–ª—Ç —Ö–∏–π—Ö, crawler-–∏–π–≥ —ç—Ö–ª“Ø“Ø–ª—ç—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</p>
    </header>

    <!-- Search Form -->
    <form id="search-form" method="post" action="/" class="form-inline" aria-label="Search form">
        <input type="hidden" name="form_type" value="search">
        <div class="input-group">
            <label for="query" class="visually-hidden">–ê—Å—É—É–ª—Ç</label>
            <input id="query" type="text" name="query" value="{{ query }}" placeholder="–ê—Å—É—É–ª—Ç–∞–∞ —ç–Ω–¥ –æ—Ä—É—É–ª–Ω–∞ —É—É" required aria-required="true" aria-label="–•–∞–π–ª—Ç —Ö–∏–π—Ö –∞—Å—É—É–ª—Ç">
            <button type="submit" class="btn btn-primary" aria-label="–•–∞–π—Ö">–•–∞–π—Ö</button>
        </div>
    </form>

    <!-- Crawl Form -->
    <form id="crawl-form" method="post" action="/" class="form-inline" aria-label="Crawler form">
        <input type="hidden" name="form_type" value="crawl">
        <div class="input-group">
            <label for="seed" class="visually-hidden">Seed URL</label>
            <input id="seed" type="url" name="seed" placeholder="Seed URL –æ—Ä—É—É–ª–Ω–∞ —É—É (–∂–∏—à—ç—ç: https://mn.wikipedia.org/wiki/...)" required aria-required="true" aria-label="Crawler seed url">
            <button type="submit" class="btn btn-secondary" aria-label="Crawler —ç—Ö–ª“Ø“Ø–ª—ç—Ö">Crawler —ç—Ö–ª“Ø“Ø–ª—ç—Ö</button>
        </div>
    </form>

    <div id="status" class="status-area" aria-live="polite">
        {% if crawl_message %}
            <p class="crawl-message">{{ crawl_message }}</p>
        {% endif %}
    </div>

    {% if results %}
        <h2>–•–∞–π–ª—Ç—ã–Ω “Ø—Ä –¥“Ø–Ω:</h2>
        <div class="results">
            {% for item in results %}
                <article class="result" role="article" aria-labelledby="title-{{ loop.index }}">
                    <!-- Title -->
                    <a id="title-{{ loop.index }}" class="result-title" href="{{ item.url }}" target="_blank" rel="noopener noreferrer" title="{{ item.url }}">
                        {{ item.title if item.title else item.url }}
                    </a>

                    <!-- Explicit URL shown underneath, allowed to wrap without truncation -->
                    <a class="result-url" href="{{ item.url }}" target="_blank" rel="noopener noreferrer">{{ item.url }}</a>

                    <!-- Meta: score / domain -->
                    <div class="meta">
                        <span class="score">–û–Ω–æ–æ: <b>{{ item.score }}</b></span>
                        {% if item.domain %}
                            <span class="domain"> ‚Ä¢ {{ item.domain }}</span>
                        {% endif %}
                    </div>

                    <!-- Snippet -->
                    <p class="snippet">{{ item.snippet|safe }}</p>
                </article>
            {% endfor %}
        </div>
    {% elif query %}
        <p class="no-results" role="status">“Æ—Ä –¥“Ø–Ω –æ–ª–¥—Å–æ–Ω–≥“Ø–π.</p>
    {% endif %}

    {% if metrics %}
        <section class="metrics" aria-label="“Æ–Ω—ç–ª–≥—ç—ç–Ω–∏–π “Ø—Ä –¥“Ø–Ω">
            <h3>“Æ–Ω—ç–ª–≥—ç—ç–Ω–∏–π “Ø—Ä –¥“Ø–Ω:</h3>
            <ul>
                <li>Precision: {{ metrics.precision }}</li>
                <li>Recall: {{ metrics.recall }}</li>
                <li>F1-score: {{ metrics.f1 }}</li>
                <li>NDCG: {{ metrics.ndcg }}</li>
            </ul>
        </section>

        <div class="metrics-desc" aria-label="“Æ–Ω—ç–ª–≥—ç—ç–Ω–∏–π —Ç–∞–π–ª–±–∞—Ä">
            {% if metrics.description %}
                {{ metrics.description|safe }}
            {% else %}
                <p>–≠–Ω–¥ “Ø–Ω—ç–ª–≥—ç—ç–Ω–∏–π —Ç–æ–π–º, —Ç–∞–π–ª–±–∞—Ä —ç—Å–≤—ç–ª –Ω—ç–º—ç–ª—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –±–∞–π—Ä–ª–∞–Ω–∞. –ñ–∏—à—ç—ç –Ω—å, —Ö—ç—Ä—Ö—ç–Ω Precision –±–æ–ª–æ–Ω Recall —Ç–æ–æ—Ü–æ–≥–¥—Å–æ–Ω, —Ç–µ—Å—Ç–∏–π–Ω —Å–µ—Ç–∏–π–Ω —Ö—ç–º–∂—ç—ç, —ç—Å–≤—ç–ª —è–º–∞—Ä —Ö–∞—Ä–∏—É–ª—Ç—É—É–¥—ã–≥ —Ö—ç—Ä—ç–≥–ª—ç—Å—ç–Ω —Ç—É—Ö–∞–π –±–æ–≥–∏–Ω–æ —Ç–∞–π–ª–±–∞—Ä –æ—Ä—É—É–ª–∞—Ö –±–æ–ª–æ–º–∂—Ç–æ–π.</p>
            {% endif %}
        </div>
    {% endif %}

    <footer class="footer">
        <a href="/pages" class="pages-link" title="Crawled pages">üìÑ Show Crawled Pages</a>
        <p class="small">¬© –ú–æ–Ω–≥–æ–ª –í–∏–∫–∏–ø–µ–¥–∏–∞ –•–∞–π–ª—Ç—ã–Ω –°–∏—Å—Ç–µ–º</p>
    </footer>
</div>

</body>
</html>